<?xml version='1.0'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>MathML Sample (CSS)</title>
<meta charset="UTF-8"/> 
<link rel="stylesheet" type="text/css" href="../Styles/a11yMath.css"/>
<script type="text/javascript" src="../Misc/a11yMath.js"> </script>
</head>

<body lang="EN-US" onload="MakeMathAccessible()">
<h1> Sample page with Math encoded as CSS Math</h1>
<h2> CSS Math Description</h2>
<p>
This page uses CSS styling to encode math. This technique is by some renderers such as MathJax in some output modes. It's advantage is that uses standard HTML+CSS and matches the font sizes. The disadvantage is that it produces "span soup" and requires fonts that may need to be downloaded.
</p>
<h2>Additional requirements to make the math accessible</h2>
<p>
In order to make this accessible, three separate elements are used as shown:
</p>

    <pre>
&lt;math xmlns="http://www.w3.org/1998/Math/MathML" class="MathMLNoDisplay" aria-hidden="true"&gt; ...MathML... &lt;/math&gt;
&lt;span class="MathMLNoDisplay"&gt; ...text to speak... &lt;span&gt;
&lt;span role="math" aria-hidden="true" &gt; ...CSS Math... &lt;/span&gt;
    </pre>
  <p>Although the order is not important, for we present an ordering to simplify the description.</p>
  <ol>
<li>The first item is the MathML equivalent of the HTML Math. This element allows for full accessibility when possible. The element is clipped and invisible to both display and speech. When MathML and JS are supported, this element has aria-hidden changed to 'false' so that the reading system uses it.</li>
<li>A span element containing the text to speak follows the MathML. It is hidden from display but not speech. When MathML and JS are supported, this element is changed so it is not spoken.</li>
<li>The CSS math is last. The topmost span tag must have role="math" and aria-hidden="true". It is visible to display but not speech.</li>
</ol>

<p>
Note: the CSS Math examples in this document were generated by MathJax. They contain attribute settings for many attributes such as class and id. These are not required for EPUB accessibility and are for MathJax's internal use.
</p>
<p>
If there is <em>no</em> JavaScript support, then we presume there is no MathML support and have the cases:
    </p>
<ul>
<li>ARIA supported: the second element is read and the third element is displayed</li>
<li><em>No</em> ARIA support (Kindle only?): we get triple reading, the middle of which is right.
<i>It is possible that the EPUB-to-MOBI conversion tool strips the MathML so that we only get a double reading.</i> The style sheet for Kindle's should remove the MathML from the reading and display so we just get a double reading.</li>
</ul>

<h2>Math sample text</h2>
<p>
The formula for a line that runs through the points
<span aria-hidden="true">    
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="MathMLNoDisplay">
  <mo>(</mo>
    <msub> <mi>x</mi><mn>1</mn>	</msub>
	 <mo>,</mo>
    <msub> <mi>y</mi><mn>1</mn></msub>
  <mo>)</mo>
    </math>
</span>
<span class="MathMLNoDisplay"> x sub 1 y sub 1 </span>
<span aria-hidden="true">    
    <span class="math" role="math" id="MathJax-Span-1" style="width: 3.28em; display: inline-block;">
        <span style="display: inline-block; position: relative; width: 3.155em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.313em, 1003.06em, 2.677em, -1000em); top: -2.245em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mo" id="MathJax-Span-3" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-4"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-5" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mn" id="MathJax-Span-6" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-7" style="font-family: MathJax_Main;">,</span><span class="msub" id="MathJax-Span-8" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.919em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.5em, 4.392em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-9" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.49em;"><span class="mn" id="MathJax-Span-10" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-11" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.245em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.32em; border-left: 0px solid; width: 0px; height: 1.155em;"></span></span>
    </span>
and
 <span aria-hidden="true">    
     <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="MathMLNoDisplay">
  <mo>(</mo>
    <msub> <mi>x</mi><mn>2</mn> </msub>
	 <mo>,</mo>
    <msub> <mi>y</mi><mn>2</mn> </msub>
  <mo>)</mo>
</math>
</span>
     
<span class="MathMLNoDisplay"> x sub 2 y sub 2 </span>
<span class="MathJax" aria-hidden="true" id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;">
<nobr><span class="math" role="math" aria-hidden="true" id="MathJax-Span-12" style="width: 3.28em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.155em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.313em, 1003.06em, 2.677em, -1000em); top: -2.245em; left: 0em;"><span class="mrow" id="MathJax-Span-13"><span class="mo" id="MathJax-Span-14" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-15"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-16" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mn" id="MathJax-Span-17" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-18" style="font-family: MathJax_Main;">,</span><span class="msub" id="MathJax-Span-19" style="padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.919em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.5em, 4.392em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-20" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.49em;"><span class="mn" id="MathJax-Span-21" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-22" style="font-family: MathJax_Main;">)</span></span><span style="display: inline-block; width: 0px; height: 2.245em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.32em; border-left: 0px solid; width: 0px; height: 1.155em;"></span></span></nobr></span>
is:
</p>
<span aria-hidden="true">    
    
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="MathMLNoDisplay">
    <mrow>
      <mstyle displaystyle="true">
        <mi>y</mi>
        <mo>−<!-- − --></mo>
        <msub>
          <mi>y</mi>
          <mrow>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <msub>
                <mi>y</mi>
                <mrow>
                  <mn>2</mn>
                </mrow>
              </msub>
              <mo>−<!-- − --></mo>
              <msub>
                <mi>y</mi>
                <mrow>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
            <mrow>
              <msub>
                <mi>x</mi>
                <mrow>
                  <mn>2</mn>
                </mrow>
              </msub>
              <mo>−<!-- − --></mo>
              <msub>
                <mi>x</mi>
                <mrow>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
          </mfrac>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>−<!-- − --></mo>
        <msub>
          <mi>x</mi>
          <mrow>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
</math>
</span>
<span class="MathMLNoDisplay"> y minus y sub 1 equals the fraction with numerator y sub 2 minus y sub 1 and denominator x sub 2 minus x sub 1, times open paren x minus x sub 1 close paren </span>
<span class="MathJax" role="math" aria-hidden="true" id="MathJax-Element-4-Frame" tabindex="0" style="text-align: center; position: relative;"><nobr><span class="math" id="MathJax-Span-34" aria-hidden="true" style="width: 11.471em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.104em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(0.783em, 1011.01em, 3.263em, -1000em); top: -2.245em; left: 0em;"><span class="mrow" id="MathJax-Span-35"><span class="mrow" id="MathJax-Span-36"><span class="mstyle" id="MathJax-Span-37"><span class="mrow" id="MathJax-Span-38"><span class="mi" id="MathJax-Span-39" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span class="mo" id="MathJax-Span-40" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msub" id="MathJax-Span-41" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.919em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.5em, 4.392em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-42" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.49em;"><span class="mrow" id="MathJax-Span-43"><span class="mn" id="MathJax-Span-44" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-45" style="font-family: MathJax_Main; padding-left: 0.278em;">=</span><span class="mrow" id="MathJax-Span-46" style="padding-left: 0.278em;"><span class="mfrac" id="MathJax-Span-47"><span style="display: inline-block; position: relative; width: 3.343em; height: 0px; margin-right: 0.12em; margin-left: 0.12em;"><span style="position: absolute; clip: rect(3.24em, 1003.06em, 4.392em, -1000em); top: -4.702em; left: 50%; margin-left: -1.53em;"><span class="mrow" id="MathJax-Span-48"><span class="msub" id="MathJax-Span-49"><span style="display: inline-block; position: relative; width: 0.919em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.5em, 4.392em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-50" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.49em;"><span class="mrow" id="MathJax-Span-51"><span class="mn" id="MathJax-Span-52" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-53" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msub" id="MathJax-Span-54" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 0.919em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.5em, 4.392em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math; font-style: italic;">y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.006em;"></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.49em;"><span class="mrow" id="MathJax-Span-56"><span class="mn" id="MathJax-Span-57" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; clip: rect(3.24em, 1003.22em, 4.337em, -1000em); top: -3.319em; left: 50%; margin-left: -1.612em;"><span class="mrow" id="MathJax-Span-58"><span class="msub" id="MathJax-Span-59"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-60" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mrow" id="MathJax-Span-61"><span class="mn" id="MathJax-Span-62" style="font-size: 70.7%; font-family: MathJax_Main;">2</span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-63" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msub" id="MathJax-Span-64" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-65" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mrow" id="MathJax-Span-66"><span class="mn" id="MathJax-Span-67" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; clip: rect(0.834em, 1003.34em, 1.274em, -1000em); top: -1.312em; left: 0em;"><span style="display: inline-block; overflow: hidden; vertical-align: 0em; border-top: 1.3px solid; width: 3.343em; height: 0px;"></span><span style="display: inline-block; width: 0px; height: 1.092em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-68" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-69" style="font-family: MathJax_Math; font-style: italic;">x</span><span class="mo" id="MathJax-Span-70" style="font-family: MathJax_Main; padding-left: 0.222em;">−</span><span class="msub" id="MathJax-Span-71" style="padding-left: 0.222em;"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-72" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mrow" id="MathJax-Span-73"><span class="mn" id="MathJax-Span-74" style="font-size: 70.7%; font-family: MathJax_Main;">1</span></span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-75" style="font-family: MathJax_Main;">)</span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.245em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.924em; border-left: 0px solid; width: 0px; height: 2.304em;"></span></span></nobr></span>
<p>
where
<span aria-hidden="true">    
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="MathMLNoDisplay">
  <msub> <mi>x</mi><mn>2</mn> </msub>
  <mo>≠<!-- not equals --></mo>
  <msub> <mi>x</mi><mn>1</mn> </msub>
</math>
    </span>
    
<span class="MathMLNoDisplay"> x sub 2 not equal to x sub 1 </span>
<span class="MathJax" role="math" aria-hidden="true" id="MathJax-Element-5-Frame" tabindex="0" style="position: relative;"><nobr><span class="math" id="MathJax-Span-76" aria-hidden="true" style="width: 3.462em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.337em; height: 0px; font-size: 103%;"><span style="position: absolute; clip: rect(1.347em, 1003.34em, 2.642em, -1000em); top: -2.245em; left: 0em;"><span class="mrow" id="MathJax-Span-77"><span class="msub" id="MathJax-Span-78"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-79" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mn" id="MathJax-Span-80" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span><span class="mo" id="MathJax-Span-81" style="font-family: MathJax_Main; padding-left: 0.278em;">≠</span><span class="msub" id="MathJax-Span-82" style="padding-left: 0.278em;"><span style="display: inline-block; position: relative; width: 1.001em; height: 0px;"><span style="position: absolute; clip: rect(3.381em, 1000.52em, 4.198em, -1000em); top: -4.005em; left: 0em;"><span class="mi" id="MathJax-Span-83" style="font-family: MathJax_Math; font-style: italic;">x</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span><span style="position: absolute; top: -3.855em; left: 0.572em;"><span class="mn" id="MathJax-Span-84" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.005em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.245em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.284em; border-left: 0px solid; width: 0px; height: 1.084em;"></span></span></nobr></span>
</p>

</body>
</html>