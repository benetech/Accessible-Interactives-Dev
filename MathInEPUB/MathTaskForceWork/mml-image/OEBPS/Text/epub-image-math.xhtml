<?xml version='1.0'?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head>
<title>MathML Sample (Images)</title>
<meta charset="UTF-8"/> 
<link rel="stylesheet" type="text/css" href="../Styles/a11yMath.css"/>
<script type="text/javascript" src="../Misc/a11yMath.js"> </script>
</head>

<body lang="EN-US" onload="MakeMathAccessible()">
<h1> Sample page with Math encoded as Images</h1>
<h2> Image Math Description</h2>
<p>
This page uses &lt;img&gt; elements to encode math. The <i>alt</i> attribute should describe the math as a fallback description. The vertical-align CSS property should be set as a style on each &lt;img&gt; tag to make sure the image properly aligns with the surrounding text for inline math. It is preferable to use SVG rather than a raster format such as png so that the image scales nicely when the page is zoomed.
</p>
<h2>Additional requirements to make the math accessible</h2>
<p>
In order to make this accessible, two separate elements are used as shown:
    </p>
    <div>
      <pre>
&lt;math xmlns="http://www.w3.org/1998/Math/MathML" class="MathMLNoDisplay" aria-hidden="true"&gt; ...MathML... &lt;/math&gt;
&lt;img src="..."  role="math" style="vertical-align: ...amount to shift...;" alt="...text to speak..." &gt;
    </pre>
  </div>
  <p>Although the order is not important, we use an ordering to simplify the description.</p>
  <ol>
<li>The first item is the MathML equivalent of the image. This element allows for full accessibility when possible. The element is clipped and invisible to both display and speech. When MathML and JS are supported, this element has aria-hidden changed to 'false' so that the reading system uses it.</li>
<li>An image element with 'alt' sent and 'vertical-align' set (typically to a negative value in 'ex's). By default, this image is visible and the alt text is spoken. When MathML and JS are supported, this element is changed to be hidden and have alt text be an empty string so it is not spoken.</li>
</ol>

<p>
If there is <em>no</em> JavaScript support, then we presume there is no MathML support and have the cases:
    </p>
<ul>
<li>ARIA supported: the first element is neither read nor displayed and the third element is both displayed and read.</li>
<li><em>No</em> ARIA support (Kindle only?): we get double reading, with garbage read for the MathML.
<i>It is possible that the EPUB-to-MOBI conversion tool strips the MathML so that we only get a single reading.</i> The style sheet for Kindle's should remove the MathML from the reading and display this should work as intended.</li>
</ul>

<p>
Note: when reading alt text, some screen readers will say something like "graphic" or "image" before reading the alt text. If the alt text is long, it may stop in the middle of the reading and repeat "graphic" before reading more. E.g., NVDA reads the long equation below as "graphic y minus y sub 1 ... and denominator x". Hitting down arrow again resumes reading with "graphic 2 minus x sub 1 ...".
</p>
<h2>Math sample text</h2>
<p>
The formula for a line that runs through the points
<span aria-hidden="true">
 <p>Math equations 1 and 2</p>   
    <math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="MathMLNoDisplay" alttext="x sub 1, y sub 1">
  <mo>(</mo>
    <msub> <mi>x</mi><mn>1</mn></msub>
	 <mo>,</mo>
    <msub> <mi>y</mi><mn>1</mn></msub>
  <mo>)</mo>
</math>
</span>
<img src="../Images/epub-image-x1y1.svg" style="vertical-align: -0.844ex;" role="math" alt="x sub 1 y sub 1"/>
and
<span aria-hidden="true">
<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="MathMLNoDisplay" alttext="x sub 2 y sub 2">
  <mo>(</mo>
    <msub> <mi>x</mi><mn>2</mn> </msub>
	 <mo>,</mo>
    <msub> <mi>y</mi><mn>2</mn> </msub>
  <mo>)</mo>
</math>
    </span>
<img src="../Images/epub-image-x2y2.svg" style="vertical-align: -0.844ex;" role="math" alt="x sub 2 y sub 2"/>
is:
</p>
<!-- too complicated for HTML Math - fall back to an image -->
<span aria-hidden="true">
 <p>Math equation 3</p>   
<math xmlns="http://www.w3.org/1998/Math/MathML" display="block" class="MathMLNoDisplay" alttext="y minus y 1 equals StartFraction y 2 minus y 1 Over x 2 minus x 1 EndFraction left-parenthesis x minus x 1 right-parenthesis">
    <mrow>
      <mstyle displaystyle="true">
        <mi>y</mi>
        <mo>−<!-- − --></mo>
        <msub>
          <mi>y</mi>
          <mrow>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo>=</mo>
        <mrow>
          <mfrac>
            <mrow>
              <msub>
                <mi>y</mi>
                <mrow>
                  <mn>2</mn>
                </mrow>
              </msub>
              <mo>−<!-- − --></mo>
              <msub>
                <mi>y</mi>
                <mrow>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
            <mrow>
              <msub>
                <mi>x</mi>
                <mrow>
                  <mn>2</mn>
                </mrow>
              </msub>
              <mo>−<!-- − --></mo>
              <msub>
                <mi>x</mi>
                <mrow>
                  <mn>1</mn>
                </mrow>
              </msub>
            </mrow>
          </mfrac>
        </mrow>
        <mo stretchy="false">(</mo>
        <mi>x</mi>
        <mo>−<!-- − --></mo>
        <msub>
          <mi>x</mi>
          <mrow>
            <mn>1</mn>
          </mrow>
        </msub>
        <mo stretchy="false">)</mo>
      </mstyle>
    </mrow>
</math>
    </span>
<img src="../Images/epub-image-2pointform.svg" style="vertical-align: -2.103ex;" role="math" alt="y minus y sub 1, equals, the fraction with numerator y sub 2 minus y sub 1, and denominator x sub 2 minus x sub 1, times open paren x minus x sub 1 close paren"/>
<p>
where
<span aria-hidden="true">
 <p>Math equation 4</p>       
<math xmlns="http://www.w3.org/1998/Math/MathML" display="inline" class="MathMLNoDisplay" alttext="x sub 2 not-equals x sub 1">
  <msub> <mi>x</mi><mn>2</mn> </msub>
  <mo>≠<!-- not equals --></mo>
  <msub> <mi>x</mi><mn>1</mn> </msub>
</math>
    </span>    
<img src="../Images/epub-image-x2nex1.svg" style="vertical-align: -0.704ex;" role="math" alt="x sub 2 not equal to x sub 1"/>.
</p>

<span aria-hidden="true">
 <p>Math equation 5 - Complex</p>       
    
<math xmlns="http://www.w3.org/1998/Math/MathML" class="MathMLNoDisplay" alttext="upper A equals UnderUnderscript up-arrow Underscript upper U s e left-parenthesis 2 right-parenthesis period Endscripts Endscripts integral Subscript negative 1 Superscript 2 Baseline left-bracket f left-parenthesis y right-parenthesis minus g upper A left-parenthesis y right-parenthesis right-bracket d y equals integral Subscript negative 1 Superscript 2 Baseline left-bracket left-parenthesis y plus 2 right-parenthesis minus y squared right-bracket d y equals left-bracket StartFraction y squared Over 2 EndFraction plus 2 y minus StartFraction y cubed Over 3 EndFraction right-bracket Subscript negative 1 Superscript 2">
  <mi>A</mi>
  <munder>
    <mo>=</mo>
    <munder>
      <mo mathcolor="#0000FF">&#x2191;</mo>
      <mrow>
        <mi mathcolor="#0000FF">Use</mi>
        <mo mathcolor="#0000FF">&#xA0;</mo>
        <mo mathcolor="#0000FF">(</mo>
        <mn mathcolor="#0000FF">2</mn>
        <mo mathcolor="#0000FF">)</mo>
        <mo>.</mo>
      </mrow>
    </munder>
  </munder>
  <msubsup>
    <mo>&#x222B;</mo>
    <mrow>
      <mo>-</mo>
      <mn>1</mn>
    </mrow>
    <mn>2</mn>
  </msubsup>
  <mo>[</mo>
  <mi>f</mi>
  <mo>(</mo>
  <mi>y</mi>
  <mo>)</mo>
  <mo>&#xA0;</mo>
  <mo>-</mo>
  <mi>g</mi>
  <mi>A</mi>
  <mo>(</mo>
  <mi>y</mi>
  <mo>)</mo>
  <mo>]</mo>
  <mi>d</mi>
  <mi>y</mi>
  <mo>=</mo>
  <msubsup>
    <mo>&#x222B;</mo>
    <mrow>
      <mo>-</mo>
      <mn>1</mn>
    </mrow>
    <mn>2</mn>
  </msubsup>
  <mo>[</mo>
  <mo>(</mo>
  <mi>y</mi>
  <mo>+</mo>
  <mn>2</mn>
  <mo>)</mo>
  <mo>-</mo>
  <msup>
    <mi>y</mi>
    <mn>2</mn>
  </msup>
  <mo>]</mo>
  <mi>d</mi>
  <mi>y</mi>
  <mo>=</mo>
  <msubsup>
    <mfenced open="[" close="]">
      <mrow>
        <mfrac>
          <msup>
            <mi>y</mi>
            <mn>2</mn>
          </msup>
          <mn>2</mn>
        </mfrac>
        <mo>+</mo>
        <mn>2</mn>
        <mi>y</mi>
        <mo>-</mo>
        <mfrac>
          <msup>
            <mi>y</mi>
            <mn>3</mn>
          </msup>
          <mn>3</mn>
        </mfrac>
      </mrow>
    </mfenced>
    <mrow>
      <mo>-</mo>
      <mn>1</mn>
    </mrow>
    <mn>2</mn>
  </msubsup>
</math>    
</span>    
<img src="../Images/epub-image-complex1.svg" role="math" aria-describedby="complex1-desc"/>
<div id="complex1-desc"><aside hidden="true">upper A equals UnderUnderscript up-arrow Underscript upper U s e left-parenthesis 2 right-parenthesis period Endscripts Endscripts integral Subscript negative 1 Superscript 2 Baseline left-bracket f left-parenthesis y right-parenthesis minus g upper A left-parenthesis y right-parenthesis right-bracket d y equals integral Subscript negative 1 Superscript 2 Baseline left-bracket left-parenthesis y plus 2 right-parenthesis minus y squared right-bracket d y equals left-bracket StartFraction y squared Over 2 EndFraction plus 2 y minus StartFraction y cubed Over 3 EndFraction right-bracket Subscript negative 1 Superscript 2
</aside></div>

 <span aria-hidden="true">
 <p>Math equation 6</p>       
    
   
<math xmlns="http://www.w3.org/1998/Math/MathML" class="MathMLNoDisplay" alttext="y equals 3 log t plus 2 ln StartFraction t Over 4 EndFraction equals 7 log Subscript 6 Baseline left-parenthesis 43 t minus 17 right-parenthesis">
  <mi>y</mi>
  <mo>=</mo>
  <mn>3</mn>
  <mi>log</mi>
  <mi>t</mi>
  <mo>+</mo>
  <mn>2</mn>
  <mi>ln</mi>
  <mfrac>
    <mi>t</mi>
    <mn>4</mn>
  </mfrac>
  <mo>=</mo>
  <mn>7</mn>
  <msub>
    <mi>log</mi>
    <mn>6</mn>
  </msub>
  <mrow>
    <mo>(</mo>
    <mn>43</mn>
    <mi>t</mi>
    <mo>-</mo>
    <mn>17</mn>
    <mo>)</mo>
  </mrow>
</math>
</span> 
 <img src="../Images/epub-image-complex2.svg" role="math" alt="y equals 3 log t plus 2 ln StartFraction t Over 4 EndFraction equals 7 log Subscript 6 Baseline left-parenthesis 43 t minus 17 right-parenthesis"/>
</body>
</html>